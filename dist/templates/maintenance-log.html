<h2 class='title'></h2>

<div class="maint-table">

 <table class="maint-table-bike" ng-repeat="(bikeIndex, bike) in bikes" ng-show="showSingleBike(bikeIndex)">
    <tr>
      <td button-toggle></td>
      <td>{{bike.year}}</td>
      <td>{{bike.maincolor}}</td>      
      <td class="no-mobile">{{bike.make}}</td>
      <td>{{bike.model}}</td>
    </tr>
  </table>

  <form  name="logForm" ng-submit="logForm.$valid && addLog(logForm.$valid)" novalidate>
    <table class="maint-table-input"  ng-form="logForm" ng-submit="addLog()"  novalidate>  
      <tr class="top-row" >
        <td class='mt-input-date'>
          <input id='datepicker' name='date' type="text" placeholder='Date' ng-model="bk.date" readonly>
        </td>
        <td class='mt-input-mileage'>
          <input class='mileage' name='mileage' type="number" placeholder='Mileage' ng-model="bk.mileage" required>
        </td>
        <td></td>
        <td class='mt-input-button'>
          <button class='edit-button' type="submit" >Add</button>
        </td>
      </tr>
      <tr>
        <td colspan="4" class='mt-input-note'>
          <input class='note' name='note' type="text" placeholder='New Note' ng-model="bk.note" required>
        </td>
      </tr>
    </table>
  </form>

  <table class="maint-table-logs" ng-repeat="(bikeIndex, bike) in bikes " ng-show="showSingleBike(bikeIndex)">
    <tr ng-repeat="(mlogIndex, mlog) in bike.mlogs | orderObjectBy:'date':true">
      <td class='mt-logs-date'>{{mlog.date}}</td>

      <td>
        <span ng-hide='editNow'>{{mlog.note}}</span>
        <input ng-show='editNow' type="text" ng-model="mlog.note">
      </td>

      <td>
        <span ng-hide='editNow'>{{mlog.mileage}}</span>
        <input ng-show='editNow' ng-model="mlog.mileage">
      </td>

      <td class="edit-column">
        <button class='edit-button-e' ng-hide="editNow" ng-click='editNow = true'>Edit</button>
        <button class='edit-button-s' ng-show="editNow" ng-click='editNow = false; saveLog(mlog, mlog.timestamp, mlogIndex )'>Save</button>
      </td>

    </tr>
  </table>

</div>